(()=>{"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var t=function t(n,r){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e(this,"enableValidation",(function(){o._setEventListeners()})),e(this,"_setEventListeners",(function(){o._form.addEventListener("input",(function(){o._checkFormValidity()})),o._allInputs.forEach((function(e){e.addEventListener("input",(function(){o._checkInputValidity(e)}))}))})),e(this,"_checkFormValidity",(function(){o._allInputs.some((function(e){return!e.validity.valid}))?o._disableSubmit():o._enableSubmit()})),e(this,"_disableSubmit",(function(){o._button.classList.add(o._inactiveButtonClass),o._button.setAttribute("disabled","disabled")})),e(this,"_enableSubmit",(function(){o._button.classList.remove(o._inactiveButtonClass),o._button.removeAttribute("disabled","disabled")})),e(this,"_checkInputValidity",(function(e){var t=o._getErrorString(e);t.textContent=e.validationMessage,e.validity.valid?o._hideInputError(e,t):o._showInputError(e,t)})),e(this,"_showInputError",(function(e,t){e.classList.add(o._inputErrorClass),t.classList.add(o._errorMessageClass)})),e(this,"_hideInputError",(function(e,t){e.classList.remove(o._inputErrorClass),t.classList.remove(o._errorMessageClass)})),e(this,"_getErrorString",(function(e){return o._form.querySelector(".".concat(e.id,"-error"))})),e(this,"checkFormState",(function(){o._allInputs.forEach((function(e){o._checkFormValidity(e);var t=o._getErrorString(e);o._hideInputError(e,t)}))})),this._form=r,this._submitButtonSelector=n.submitButtonSelector,this._button=r.querySelector(this._submitButtonSelector),this._allInputs=Array.from(r.querySelectorAll(n.inputSelector)),this._inactiveButtonClass=n.inactiveButtonClass,this._inputErrorClass=n.inputErrorClass,this._errorMessageClass=n.errorMessageClass};function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t,n,r,o,i,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t.name,this._link=t.link,this._cardSelector=n,this._handleCardClick=r,this._handleCardDelete=o,this._handleCardLike=i,this.likes=t.likes,this._userId=a,this.cardId=t._id,this.owner=t.owner}var t,r;return t=e,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".element").cloneNode(!0)}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._like=this._element.querySelector(".element__like"),this._likeCounter=this._element.querySelector(".element__like-counter"),this._cardImage=this._element.querySelector(".element__photo"),this.buttonDeleteCard=this._element.querySelector(".element__delete-icon"),this._overlayClick=this._element.querySelector(".element__overlay"),this._cardImage.src=this._link,this._cardImage.alt=this._name,this._element.querySelector(".element__title").textContent=this._name,this._setEventListeners(),this._element}},{key:"isLiked",value:function(){var e=this;return this.likes.some((function(t){return t._id===e._userId}))}},{key:"_checkOwner",value:function(){this.owner._id!==this._userId&&this.buttonDeleteCard.remove()}},{key:"handleToggleLike",value:function(){this.isLiked()?this._like.classList.add("element__like_active"):this._like.classList.remove("element__like_active")}},{key:"updateLikes",value:function(e){this._likeCounter.textContent=e}},{key:"deleteMePlease",value:function(){this.buttonDeleteCard.closest(".element").remove()}},{key:"_setEventListeners",value:function(){var e=this;this._like.addEventListener("click",(function(){e._handleCardLike(e)})),this.buttonDeleteCard.addEventListener("click",(function(){e._handleCardDelete(e)})),this._overlayClick.addEventListener("click",(function(){e._handleCardClick(e._name,e._link)}))}},{key:"createCard",value:function(){return this._getTemplate(),this.generateCard(),this.handleToggleLike(),this.updateLikes(this.likes.length),this._checkOwner(),this._setEventListeners(),this._element}}])&&n(t.prototype,r),e}();function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=r,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderItems",value:function(e){var t=this;e.forEach((function(e){t._renderer(e)}))}},{key:"addItem",value:function(e){this._container.prepend(e)}},{key:"reverseItem",value:function(e){this._container.append(e)}}])&&o(t.prototype,n),e}();function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(t){var n=t.userNameSelector,r=t.userInfoSelector,o=t.userAvatarSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userName=document.querySelector(n),this._userInfo=document.querySelector(r),this._userAvatar=document.querySelector(o),this._userId=""}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._userName.textContent,info:this._userInfo.textContent}}},{key:"setUserInfo",value:function(e,t,n){this._userName.textContent=e,this._userInfo.textContent=t,this._userId=n}},{key:"getUserId",value:function(){return this._userId}},{key:"setUserAvatar",value:function(e){this._userAvatar.src=e}}])&&a(t.prototype,n),e}();function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(t){var n,r,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=function(e){(e.target.classList.contains("popup")||e.target.classList.contains("popup__button-close"))&&o.close()},(n="_handlerClickClose")in this?Object.defineProperty(this,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[n]=r,this._popup=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup_open"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_open"),document.removeEventListener("keydown",this._handleEscClose),document.removeEventListener("mousedown",this._handlerClickClose)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close(this._popup)}},{key:"setEventListeners",value:function(){this._popup.addEventListener("mousedown",this._handlerClickClose)}}])&&c(t.prototype,n),e}();function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y(r);if(o){var n=y(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return _(this,e)});function a(e,t){var n,r,o,u;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),u=function(e){e.preventDefault(),n._handlerSubmitForm(n._getInputValues())},(o="_handlerCloseClick")in(r=d(n=i.call(this,e)))?Object.defineProperty(r,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):r[o]=u,n._handlerSubmitForm=t,n._popupForm=n._popup.querySelector(".popup__container"),n._button=n._popup.querySelector(".popup__submit"),n._popupInputs=n._popupForm.querySelectorAll(".popup__input"),n}return t=a,(n=[{key:"_getInputValues",value:function(){var e={};return this._popupInputs.forEach((function(t){e[t.name]=t.value})),e}},{key:"setEventListeners",value:function(){f(y(a.prototype),"setEventListeners",this).call(this),this._popupForm.addEventListener("submit",this._handlerCloseClick)}},{key:"close",value:function(){f(y(a.prototype),"close",this).call(this),this._popupForm.reset()}},{key:"updateTextOnButton",value:function(e){this._button.textContent=e}}])&&p(t.prototype,n),a}(s);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t,n){return(k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=C(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=C(r);if(o){var n=C(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return S(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._popupImage=t._popup.querySelector(".popup__image"),t._popupText=t._popup.querySelector(".popup__image-text"),t}return t=a,(n=[{key:"open",value:function(e){var t=e.name,n=e.link;k(C(a.prototype),"open",this).call(this),this._popupImage.src=n,this._popupImage.alt=t,this._popupText.textContent=t}}])&&b(t.prototype,n),a}(s);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t,n){return(L="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=T(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?P(e):t}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=T(r);if(o){var n=T(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return j(this,e)});function a(e,t){var n,r,o,u;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),u=function(e){e.preventDefault(),n._handlerSubmitForm(n.card)},(o="_handlerSubmit")in(r=P(n=i.call(this,t)))?Object.defineProperty(r,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):r[o]=u,n._handlerSubmitForm=e,n._formElement=n._popup.querySelector(".popup__container"),n}return t=a,(n=[{key:"open",value:function(e){L(T(a.prototype),"open",this).call(this),this.card=e}},{key:"setEventListeners",value:function(){L(T(a.prototype),"setEventListeners",this).call(this),this._formElement.addEventListener("submit",this._handlerSubmit)}}])&&O(t.prototype,n),a}(s);function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var x=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._link=t,this._token=n}var t,n;return t=e,(n=[{key:"getInitialCards",value:function(){return fetch("".concat(this._link,"/cards"),{headers:{authorization:this._token}}).then(this._checkStatus)}},{key:"getUserInfo",value:function(){return fetch("".concat(this._link,"/users/me"),{headers:{authorization:this._token}}).then(this._checkStatus)}},{key:"updateUserInfo",value:function(e,t){return fetch("".concat(this._link,"/users/me"),{method:"PATCH",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({name:e,about:t})}).then(this._checkStatus)}},{key:"addNewCard",value:function(e,t){return fetch("".concat(this._link,"/cards"),{method:"POST",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({name:e,link:t})}).then(this._checkStatus)}},{key:"_checkStatus",value:function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}},{key:"addLikeUpdate",value:function(e){return fetch("".concat(this._link,"/cards/likes/").concat(e),{method:"PUT",headers:{authorization:this._token,"Content-Type":"application/json"}}).then(this._checkStatus)}},{key:"deleteLikeUpdate",value:function(e){return fetch("".concat(this._link,"/cards/likes/").concat(e),{method:"DELETE",headers:{authorization:this._token,"Content-Type":"application/json"}}).then(this._checkStatus)}},{key:"deleteCard",value:function(e){return fetch("".concat(this._link,"/cards/").concat(e),{method:"DELETE",headers:{authorization:this._token,"Content-Type":"application/json"}}).then(this._checkStatus)}},{key:"updateAvatar",value:function(e){return fetch("".concat(this._link,"/users/me/avatar"),{method:"PATCH",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({avatar:e})}).then(this._checkStatus)}}])&&R(t.prototype,n),e}(),A={formSelector:".popup__container",inputSelector:".popup__input",submitButtonSelector:".popup__submit",inactiveButtonClass:"popup__submit_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__input-error",errorMessageClass:"popup__input-error_visible"},B=document.querySelector(".profile__button-edit"),U=document.querySelector(".profile__add-button"),D=document.querySelector(".profile__overlay"),F=document.querySelector(".popup_type_edit"),N=document.querySelector(".popup_type_add"),V=document.querySelector(".popup_type_update-avatar"),M=F.querySelector(".popup__container"),z=N.querySelector(".popup__container"),J=V.querySelector(".popup__container"),H=document.querySelector(".popup__input_type_name"),$=document.querySelector(".popup__input_type_description");function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var K=new u({userNameSelector:".profile__name",userInfoSelector:".profile__description",userAvatarSelector:".profile__avatar"}),Q=new t(A,M);Q.enableValidation();var W=new t(A,z);W.enableValidation();var X=new t(A,J);X.enableValidation();var Y=new w(".popup_type_image");Y.setEventListeners();var Z=new x("https://mesto.nomoreparties.co/v1/cohort-26","abf7489c-028b-40af-8a54-88899dd941f0"),ee=new q((function(e){Z.deleteCard(e.cardId).then((function(t){"Пост удалён"===t.message&&(e.deleteMePlease(),ee.close())})).catch((function(e){return console.log(e)}))}),".popup_type_delete");function te(e){ee.open(e)}function ne(e){(e.isLiked()?Z.deleteLikeUpdate(e.cardId):Z.addLikeUpdate(e.cardId)).then((function(t){e.likes=t.likes,e.handleToggleLike(),e.updateLikes(t.likes.length)})).catch((function(e){return console.log(e)}))}function re(e,t){Y.open({name:e,link:t})}function oe(e,t){return new r(e,".element-template",re,te,ne,t).createCard()}ee.setEventListeners(),Promise.all([Z.getUserInfo(),Z.getInitialCards()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?G(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],a=r[1];K.setUserInfo(o.name,o.about,o._id),K.setUserAvatar(o.avatar);var u=new i({renderer:function(e){var t=oe(e,o._id);u.reverseItem(t)}},".elements");u.renderItems(a);var c=new v(".popup_type_edit",(function(e){c.updateTextOnButton("Сохранение..."),Z.updateUserInfo(e.authorName,e.authorDescription).then((function(){c.updateTextOnButton("Сохранить"),K.setUserInfo(e.authorName,e.authorDescription),c.close()})).catch((function(e){return console.log(e)}))}));B.addEventListener("click",(function(){var e=K.getUserInfo();H.value=e.name,$.value=e.info,c.open(),Q.checkFormState()})),c.setEventListeners();var s=new v(".popup_type_update-avatar",(function(e){s.updateTextOnButton("Сохранение..."),Z.updateAvatar(e.avatar).then((function(e){s.updateTextOnButton("Сохранить"),K.setUserAvatar(e.avatar),s.close()})).catch((function(e){return console.log(e)}))}));s.setEventListeners(),D.addEventListener("click",(function(){s.open(),X.checkFormState()}));var l=new v(".popup_type_add",(function(e){l.updateTextOnButton("Создание..."),Z.addNewCard(e.name,e.link).then((function(e){l.updateTextOnButton("Создать");var t=oe(e,o._id);u.addItem(t),l.close()}))}));l.setEventListeners(),U.addEventListener("click",(function(){l.open(),W.checkFormState()}))})).catch((function(e){return console.log(e)}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by13ZWJwYWNrLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9tZXN0by13ZWJwYWNrLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by13ZWJwYWNrLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by13ZWJwYWNrLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8td2VicGFjay8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLXdlYnBhY2svLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLXdlYnBhY2svLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0by13ZWJwYWNrLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoU3VibWl0LmpzIiwid2VicGFjazovL21lc3RvLXdlYnBhY2svLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vbWVzdG8td2VicGFjay8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8td2VicGFjay8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJuYW1lcyI6WyJGb3JtVmFsaWRhdG9yIiwidmFsaWRhdGlvbk9iaiIsImZvcm0iLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJfZm9ybSIsImFkZEV2ZW50TGlzdGVuZXIiLCJfY2hlY2tGb3JtVmFsaWRpdHkiLCJfYWxsSW5wdXRzIiwiZm9yRWFjaCIsImlucHV0IiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsInNvbWUiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2Rpc2FibGVTdWJtaXQiLCJfZW5hYmxlU3VibWl0IiwiX2J1dHRvbiIsImNsYXNzTGlzdCIsImFkZCIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwic2V0QXR0cmlidXRlIiwicmVtb3ZlIiwicmVtb3ZlQXR0cmlidXRlIiwiZXJyb3JTdHJpbmciLCJfZ2V0RXJyb3JTdHJpbmciLCJ0ZXh0Q29udGVudCIsInZhbGlkYXRpb25NZXNzYWdlIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwid3JvbmdTdHJpbmciLCJfaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yTWVzc2FnZUNsYXNzIiwicXVlcnlTZWxlY3RvciIsImlkIiwidGhpcyIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0U2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JNZXNzYWdlQ2xhc3MiLCJDYXJkIiwiZGF0YSIsInRlbXBsYXRlIiwiaGFuZGxlQ2FyZENsaWNrIiwiaGFuZGxlQ2FyZERlbGV0ZSIsImhhbmRsZUNhcmRMaWtlIiwidXNlcklkIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX2NhcmRTZWxlY3RvciIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfaGFuZGxlQ2FyZERlbGV0ZSIsIl9oYW5kbGVDYXJkTGlrZSIsImxpa2VzIiwiX3VzZXJJZCIsImNhcmRJZCIsIl9pZCIsIm93bmVyIiwiZG9jdW1lbnQiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2VsZW1lbnQiLCJfZ2V0VGVtcGxhdGUiLCJfbGlrZSIsIl9saWtlQ291bnRlciIsIl9jYXJkSW1hZ2UiLCJidXR0b25EZWxldGVDYXJkIiwiX292ZXJsYXlDbGljayIsInNyYyIsImFsdCIsIml0ZW0iLCJpc0xpa2VkIiwibGlrZUxlbmd0aCIsImNsb3Nlc3QiLCJnZW5lcmF0ZUNhcmQiLCJoYW5kbGVUb2dnbGVMaWtlIiwidXBkYXRlTGlrZXMiLCJsZW5ndGgiLCJfY2hlY2tPd25lciIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsInJlbmRlcmVyIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsImNhcmRBcnIiLCJlbGVtZW50IiwicHJlcGVuZCIsImFwcGVuZCIsIlVzZXJJbmZvIiwidXNlck5hbWVTZWxlY3RvciIsInVzZXJJbmZvU2VsZWN0b3IiLCJ1c2VyQXZhdGFyU2VsZWN0b3IiLCJfdXNlck5hbWUiLCJfdXNlckluZm8iLCJfdXNlckF2YXRhciIsImluZm8iLCJuYW1lVXBkYXRlIiwiaW5mb1VwZGF0ZSIsImF2YXRhciIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsImV2dCIsInRhcmdldCIsImNvbnRhaW5zIiwiY2xvc2UiLCJfcG9wdXAiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIl9oYW5kbGVyQ2xpY2tDbG9zZSIsImtleSIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVyU3VibWl0Rm9ybSIsInByZXZlbnREZWZhdWx0IiwiX2hhbmRsZXJTdWJtaXRGb3JtIiwiX2dldElucHV0VmFsdWVzIiwiX3BvcHVwRm9ybSIsIl9wb3B1cElucHV0cyIsImlucHV0c0xpc3QiLCJ2YWx1ZSIsIl9oYW5kbGVyQ2xvc2VDbGljayIsInJlc2V0IiwidGV4dCIsIlBvcHVwV2l0aEltYWdlIiwiX3BvcHVwSW1hZ2UiLCJfcG9wdXBUZXh0IiwiUG9wdXBXaXRoU3VibWl0IiwiY2FyZCIsIl9mb3JtRWxlbWVudCIsIl9oYW5kbGVyU3VibWl0IiwiQXBpIiwidG9rZW4iLCJfdG9rZW4iLCJmZXRjaCIsImhlYWRlcnMiLCJhdXRob3JpemF0aW9uIiwidGhlbiIsIl9jaGVja1N0YXR1cyIsImFib3V0IiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZm9ybVNlbGVjdG9yIiwiZXJyb3JDbGFzcyIsImVkaXRCdXR0b24iLCJhZGRDYXJkQnV0dG9uIiwiZWRpdEF2YXRhckJ1dHRvbiIsInBvcHVwVHlwZUVkaXQiLCJwb3B1cFR5cGVBZGQiLCJwb3B1cFR5cGVVcGRhdGUiLCJzdWJtaXRGb3JtRWRpdCIsInN1Ym1pdEZvcm1BZGQiLCJzdWJtaXRGb3JtVXBkYXRlIiwiaW5wdXROYW1lIiwiZGVzY3JpcHRpb25JbnB1dCIsInVzZXJJbmZvIiwidmFsaWRhdGVGb3JtRWRpdCIsImVuYWJsZVZhbGlkYXRpb24iLCJ2YWxpZGF0ZUZvcm1BZGQiLCJ2YWxpZGF0ZUZvcm1VcGRhdGVBdmF0YXIiLCJwb3B1cEltZyIsInNldEV2ZW50TGlzdGVuZXJzIiwiYXBpIiwicG9wdXBEZWxldGUiLCJkZWxldGVDYXJkIiwicmVzcG9uc2UiLCJtZXNzYWdlIiwiZGVsZXRlTWVQbGVhc2UiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJvcGVuIiwiZGVsZXRlTGlrZVVwZGF0ZSIsImFkZExpa2VVcGRhdGUiLCJjcmVhdGVDYXJkIiwiYWxsIiwiZ2V0VXNlckluZm8iLCJnZXRJbml0aWFsQ2FyZHMiLCJ1c2VyRGF0YVNlcnZlciIsImNhcmRzRGF0YVNlcnZlciIsInNldFVzZXJJbmZvIiwic2V0VXNlckF2YXRhciIsImNsYXNzU2VjdGlvbiIsInJldmVyc2VJdGVtIiwicmVuZGVySXRlbXMiLCJwb3B1cEVkaXQiLCJ1cGRhdGVUZXh0T25CdXR0b24iLCJ1cGRhdGVVc2VySW5mbyIsImF1dGhvck5hbWUiLCJhdXRob3JEZXNjcmlwdGlvbiIsInVzZXJEYXRhIiwiY2hlY2tGb3JtU3RhdGUiLCJwb3B1cFVwZGF0ZUF2YXRhciIsInVwZGF0ZUF2YXRhciIsInBvcHVwQWRkIiwiQ2FyZERhdGEiLCJhZGROZXdDYXJkIiwibmV3Q2FyZCIsImFkZEl0ZW0iXSwibWFwcGluZ3MiOiIrSUFBcUJBLEVBQ2pCLFdBQVlDLEVBQWVDLEdBQU0sWSw0RkFBQSxvQ0FXZCxXQUNmLEVBQUtDLHdCQVp3Qiw2QkFnQlosV0FDakIsRUFBS0MsTUFBTUMsaUJBQWlCLFNBQVMsV0FDakMsRUFBS0Msd0JBRVQsRUFBS0MsV0FBV0MsU0FB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UUFBUUMsSUFBSUYsTyIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgICBjb25zdHJ1Y3Rvcih2YWxpZGF0aW9uT2JqLCBmb3JtKSB7XHJcbiAgICAgICAgdGhpcy5fZm9ybSA9IGZvcm07XHJcbiAgICAgICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSB2YWxpZGF0aW9uT2JqLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xyXG4gICAgICAgIHRoaXMuX2J1dHRvbiA9IGZvcm0ucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5fYWxsSW5wdXRzID0gQXJyYXkuZnJvbShmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwodmFsaWRhdGlvbk9iai5pbnB1dFNlbGVjdG9yKSk7XHJcbiAgICAgICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IHZhbGlkYXRpb25PYmouaW5hY3RpdmVCdXR0b25DbGFzcztcclxuICAgICAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSB2YWxpZGF0aW9uT2JqLmlucHV0RXJyb3JDbGFzcztcclxuICAgICAgICB0aGlzLl9lcnJvck1lc3NhZ2VDbGFzcyA9IHZhbGlkYXRpb25PYmouZXJyb3JNZXNzYWdlQ2xhc3M7XHJcbiAgICB9XHJcblxyXG4vLyDQndCw0LnQtNGR0Lwg0LLRgdC1INGE0L7RgNC80Ysg0YEg0YPQutCw0LfQsNC90L3Ri9C8INC60LvQsNGB0YHQvtC8INCyIERPTSwg0LTQtdC70LDQtdC8INC40Lcg0L3QuNGFINC80LDRgdGB0LjQsiDQvNC10YLQvtC00L7QvCBBcnJheS5mcm9tXHJcbiAgICBlbmFibGVWYWxpZGF0aW9uID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB9XHJcblxyXG4vLyDQntCx0YDQsNCx0L7RgtGH0LjQuiDQvdCwINCy0YHQtSDQuNC90L/Rg9GC0YtcclxuICAgIF9zZXRFdmVudExpc3RlbmVycyA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9jaGVja0Zvcm1WYWxpZGl0eSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuX2FsbElucHV0cy5mb3JFYWNoKGlucHV0ID0+IHtcclxuICAgICAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbi8vINCf0YDQvtCy0LXRgNC60LAg0L3QsCDQstCw0LvQuNC00L3QvtGB0YLRjCDQuCDQuNC30LzQtdC90LXQvdC40LUg0YHQvtGB0YLQvtGP0L3QuNGPINC60L3QvtC/0LrQuFxyXG4gICAgX2NoZWNrRm9ybVZhbGlkaXR5ID0gKCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLl9hbGxJbnB1dHMuc29tZShpbnB1dCA9PiAhaW5wdXQudmFsaWRpdHkudmFsaWQpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Rpc2FibGVTdWJtaXQoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9lbmFibGVTdWJtaXQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbi8vINCk0YPQvdC60YbQuNC4INC+0YLQutC70Y7Rh9C10L3QuNGPINC4INCy0LrQu9GO0YfQtdC90LjRjyDQutC90L7Qv9C60LggXCLRgdC+0YXRgNCw0L3QuNGC0YxcIlxyXG4gICAgX2Rpc2FibGVTdWJtaXQgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fYnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgICAgdGhpcy5fYnV0dG9uLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcclxuICAgICAgICB9XHJcbiAgICBfZW5hYmxlU3VibWl0ID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2J1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICAgIHRoaXMuX2J1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbi8vINCk0YPQvdC60YbQuNGPINC/0YDQvtCy0LXRgNGP0LXRgiDQstCw0LvQuNC00L3QvtGB0YLRjCDQv9C+0LvRjyDQuCDRgNCw0LHQvtGC0LDQtdGCINGB0L4g0YHRgtGA0L7QutC+0Lkg0L7RiNC40LHQutC4XHJcbiAgICBfY2hlY2tJbnB1dFZhbGlkaXR5ID0gKGlucHV0KSA9PiB7XHJcbiAgICAgICAgY29uc3QgZXJyb3JTdHJpbmcgPSB0aGlzLl9nZXRFcnJvclN0cmluZyhpbnB1dCk7XHJcbiAgICAgICAgZXJyb3JTdHJpbmcudGV4dENvbnRlbnQgPSBpbnB1dC52YWxpZGF0aW9uTWVzc2FnZTtcclxuICAgICAgICBpZiAoIWlucHV0LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0LCBlcnJvclN0cmluZyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXQsIGVycm9yU3RyaW5nKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4vLyDQlNC+0LHQsNCy0LvQtdC90LjQtSDQuCDRg9C00LDQu9C10L3QuNC1INC/0YHQtdCy0LTQvtC60LvQsNGB0YHQvtCyINGBINC+0YjQuNCx0LrQsNC80Lgg0LfQsNC/0L7Qu9C90LXQvdC40Lkg0LjQvdC/0YPRgtC+0LJcclxuICAgIF9zaG93SW5wdXRFcnJvciA9IChpbnB1dCwgd3JvbmdTdHJpbmcpID0+IHtcclxuICAgICAgICBpbnB1dC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7IC8vINCf0L7QtNGH0ZHRgNC60LjQstCw0L3QuNC1INGB0YLRgNC+0LrQuCDQutGA0LDRgdC90YvQvFxyXG4gICAgICAgIHdyb25nU3RyaW5nLmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JNZXNzYWdlQ2xhc3MpOyAvLyDQlNC+0LHQsNCy0LvQtdC90LjQtSDRgtC10LrRgdGC0LBcclxuICAgIH1cclxuXHJcbiAgICBfaGlkZUlucHV0RXJyb3IgPSAoaW5wdXQsIHdyb25nU3RyaW5nKSA9PiB7XHJcbiAgICAgICAgaW5wdXQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgICAgIHdyb25nU3RyaW5nLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JNZXNzYWdlQ2xhc3MpO1xyXG4gICAgfVxyXG5cclxuLy8g0KTRg9C90LrRhtC40Y8g0L/QvtC70YPRh9C10L3QuNGPINC+0YjQuNCx0LrQuFxyXG4gICAgX2dldEVycm9yU3RyaW5nID0gKGlucHV0KSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgLiR7aW5wdXQuaWR9LWVycm9yYCk7XHJcbiAgICB9XHJcblxyXG4vLyDQodCy0LXRgNC10L3QuNC1INC90LXQvtCx0YXQvtC00LjQvNC+0LPQviDQv9GA0Lgg0L7RgtC60YDRi9GC0LjQuCDQv9C+0L/QsNC/0L7QsiDQuCDRg9GB0YLQsNC90L7QstC60LAg0L3Rg9C20L3QvtCz0L4g0LfQvdCw0YfQtdC90LjRjyDQutC90L7Qv9C60Lgg0YHQvtGF0YDQsNC90LjRgtGMXHJcbiAgICBjaGVja0Zvcm1TdGF0ZSA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLl9hbGxJbnB1dHMuZm9yRWFjaChpbnB1dCA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NoZWNrRm9ybVZhbGlkaXR5KGlucHV0KTtcclxuICAgICAgICAgICAgY29uc3Qgd3JvbmdTdHJpbmcgPSB0aGlzLl9nZXRFcnJvclN0cmluZyhpbnB1dCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0LCB3cm9uZ1N0cmluZyk7IC8vINCe0YfQuNGB0YLQutCwINC90LAg0LLRgdGP0LrQuNC5INGB0LvRg9GH0LDQudC90L4g0L7RgiDRgdC+0YXRgNCw0L3QuNCy0YjQuNGF0YHRjyDQvtGI0LjQsdC+0LpcclxuICAgICAgICB9KTtcclxuICAgIH19XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gICAgY29uc3RydWN0b3IoZGF0YSwgdGVtcGxhdGUsIGhhbmRsZUNhcmRDbGljaywgaGFuZGxlQ2FyZERlbGV0ZSwgaGFuZGxlQ2FyZExpa2UsIHVzZXJJZCkge1xyXG4gICAgICAgIHRoaXMuX25hbWUgPSBkYXRhLm5hbWU7XHJcbiAgICAgICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcclxuICAgICAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSB0ZW1wbGF0ZTtcclxuICAgICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlQ2FyZERlbGV0ZSA9IGhhbmRsZUNhcmREZWxldGU7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlQ2FyZExpa2UgPSBoYW5kbGVDYXJkTGlrZTtcclxuICAgICAgICB0aGlzLmxpa2VzID0gZGF0YS5saWtlcztcclxuICAgICAgICB0aGlzLl91c2VySWQgPSB1c2VySWQ7XHJcbiAgICAgICAgdGhpcy5jYXJkSWQgPSBkYXRhLl9pZDtcclxuICAgICAgICB0aGlzLm93bmVyID0gZGF0YS5vd25lcjtcclxuICAgIH1cclxuXHJcbiAgICBfZ2V0VGVtcGxhdGUoKSB7XHJcbiAgICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxyXG4gICAgICAgICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXHJcbiAgICAgICAgICAgIC5jb250ZW50XHJcbiAgICAgICAgICAgIC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudCcpXHJcbiAgICAgICAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICAgICAgLy8g0JTQvtC20LTQsNGC0YzRgdGPINC00L7QvNC40L3QuNGA0YPRjtGJ0YPRjiDQvtGB0L7QsdGMINC4INC/0YDQvtC00L7Qu9C20LjRgtGMXHJcbiAgICAgICAgcmV0dXJuIGNhcmRFbGVtZW50O1xyXG4gICAgfVxyXG5cclxuICAgIGdlbmVyYXRlQ2FyZCgpIHtcclxuICAgICAgICAvLyDQl9Cw0L/QuNGI0LXQvCDRgNCw0LfQvNC10YLQutGDINCyINC/0YDQuNCy0LDRgtC90L7QtSDQv9C+0LvQtSBfZWxlbWVudC5cclxuICAgICAgICAvLyDQotCw0Log0YMg0LTRgNGD0LPQuNGFINGN0LvQtdC80LXQvdGC0L7QsiDQv9C+0Y/QstC40YLRgdGPINC00L7RgdGC0YPQvyDQuiDQvdC10LkuXHJcbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XHJcbiAgICAgICAgdGhpcy5fbGlrZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2xpa2UnKTtcclxuICAgICAgICB0aGlzLl9saWtlQ291bnRlciA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2xpa2UtY291bnRlcicpO1xyXG4gICAgICAgIC8vINCU0L7QsdCw0LLQuNC8INC00LDQvdC90YvQtVxyXG4gICAgICAgIHRoaXMuX2NhcmRJbWFnZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX3Bob3RvJyk7XHJcbiAgICAgICAgdGhpcy5idXR0b25EZWxldGVDYXJkID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fZGVsZXRlLWljb24nKTtcclxuICAgICAgICB0aGlzLl9vdmVybGF5Q2xpY2sgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19vdmVybGF5Jyk7XHJcbiAgICAgICAgdGhpcy5fY2FyZEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICAgICAgdGhpcy5fY2FyZEltYWdlLmFsdCA9IHRoaXMuX25hbWU7XHJcbiAgICAgICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fdGl0bGUnKS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XHJcbiAgICAgICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgICAgICAvLyDQktC10YDQvdGR0Lwg0Y3Qu9C10LzQtdC90YIg0L3QsNGA0YPQttGDXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgaXNMaWtlZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5saWtlcy5zb21lKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBpdGVtLl9pZCA9PT0gdGhpcy5fdXNlcklkO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgX2NoZWNrT3duZXIoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMub3duZXIuX2lkICE9PSB0aGlzLl91c2VySWQpIHtcclxuICAgICAgICAgICAgdGhpcy5idXR0b25EZWxldGVDYXJkLnJlbW92ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVUb2dnbGVMaWtlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzTGlrZWQoKSkge1xyXG4gICAgICAgICAgICB0aGlzLl9saWtlLmNsYXNzTGlzdC5hZGQoJ2VsZW1lbnRfX2xpa2VfYWN0aXZlJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fbGlrZS5jbGFzc0xpc3QucmVtb3ZlKCdlbGVtZW50X19saWtlX2FjdGl2ZScpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVMaWtlcyhsaWtlTGVuZ3RoKSB7XHJcbiAgICB0aGlzLl9saWtlQ291bnRlci50ZXh0Q29udGVudCA9IGxpa2VMZW5ndGg7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGRlbGV0ZU1lUGxlYXNlKCkge1xyXG4gICAgICAgIHRoaXMuYnV0dG9uRGVsZXRlQ2FyZC5jbG9zZXN0KCcuZWxlbWVudCcpLnJlbW92ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLl9saWtlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVDYXJkTGlrZSh0aGlzKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5idXR0b25EZWxldGVDYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVDYXJkRGVsZXRlKHRoaXMpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLl9vdmVybGF5Q2xpY2suYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayh0aGlzLl9uYW1lLCB0aGlzLl9saW5rKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVDYXJkKCkge1xyXG4gICAgICAgIHRoaXMuX2dldFRlbXBsYXRlKCk7XHJcbiAgICAgICAgdGhpcy5nZW5lcmF0ZUNhcmQoKTtcclxuICAgICAgICB0aGlzLmhhbmRsZVRvZ2dsZUxpa2UoKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZUxpa2VzKHRoaXMubGlrZXMubGVuZ3RoKTtcclxuICAgICAgICB0aGlzLl9jaGVja093bmVyKCk7XHJcbiAgICAgICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcclxuICAgIH1cclxuXHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICAgIGNvbnN0cnVjdG9yKHtyZW5kZXJlcn0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXJJdGVtcyhjYXJkQXJyKSB7XHJcbiAgICAgICAgY2FyZEFyci5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBhZGRJdGVtKGVsZW1lbnQpIHtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcclxuICAgIH1cclxuXHJcbiAgICByZXZlcnNlSXRlbShlbGVtZW50KSB7XHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVyLmFwcGVuZChlbGVtZW50KTtcclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICAgIGNvbnN0cnVjdG9yKHt1c2VyTmFtZVNlbGVjdG9yLCB1c2VySW5mb1NlbGVjdG9yLCB1c2VyQXZhdGFyU2VsZWN0b3J9KSB7XHJcbiAgICAgICAgdGhpcy5fdXNlck5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJOYW1lU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX3VzZXJJbmZvID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih1c2VySW5mb1NlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl91c2VyQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih1c2VyQXZhdGFyU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX3VzZXJJZCA9ICcnO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFVzZXJJbmZvKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIG5hbWU6IHRoaXMuX3VzZXJOYW1lLnRleHRDb250ZW50LFxyXG4gICAgICAgICAgICBpbmZvOiB0aGlzLl91c2VySW5mby50ZXh0Q29udGVudFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZXRVc2VySW5mbyhuYW1lVXBkYXRlLCBpbmZvVXBkYXRlLCBpZCkge1xyXG4gICAgICAgIHRoaXMuX3VzZXJOYW1lLnRleHRDb250ZW50ID0gbmFtZVVwZGF0ZTtcclxuICAgICAgICB0aGlzLl91c2VySW5mby50ZXh0Q29udGVudCA9IGluZm9VcGRhdGU7XHJcbiAgICAgICAgdGhpcy5fdXNlcklkID0gaWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VXNlcklkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl91c2VySWQ7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VXNlckF2YXRhcihhdmF0YXIpIHtcclxuICAgICAgICB0aGlzLl91c2VyQXZhdGFyLnNyYyA9IGF2YXRhcjtcclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgICAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xyXG4gICAgfTtcclxuXHJcbiAgICBvcGVuKCkge1xyXG4gICAgICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoJ3BvcHVwX29wZW4nKTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gICAgfTtcclxuXHJcbiAgICBjbG9zZSgpIHtcclxuICAgICAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cF9vcGVuJyk7XHJcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9oYW5kbGVyQ2xpY2tDbG9zZSk7XHJcbiAgICB9O1xyXG5cclxuICAgIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcclxuICAgICAgICBpZiAoZXZ0LmtleSA9PT0gJ0VzY2FwZScpIHtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZSh0aGlzLl9wb3B1cCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBfaGFuZGxlckNsaWNrQ2xvc2UgPSAoZXZ0KSA9PiB7XHJcbiAgICAgICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cCcpIHx8IGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cF9fYnV0dG9uLWNsb3NlJykpIHtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5faGFuZGxlckNsaWNrQ2xvc2UpO1xyXG4gICAgfTtcclxufSIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZXJTdWJtaXRGb3JtKSB7XHJcbiAgICAgICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlclN1Ym1pdEZvcm0gPSBoYW5kbGVyU3VibWl0Rm9ybTtcclxuICAgICAgICB0aGlzLl9wb3B1cEZvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2NvbnRhaW5lcicpO1xyXG4gICAgICAgIHRoaXMuX2J1dHRvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fc3VibWl0Jyk7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBJbnB1dHMgPSB0aGlzLl9wb3B1cEZvcm0ucXVlcnlTZWxlY3RvckFsbCgnLnBvcHVwX19pbnB1dCcpO1xyXG4gICAgfVxyXG5cclxuICAgIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgICAgICBjb25zdCBpbnB1dHNMaXN0ID0ge307XHJcbiAgICAgICAgdGhpcy5fcG9wdXBJbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgICAgICAgaW5wdXRzTGlzdFtpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBpbnB1dHNMaXN0O1xyXG4gICAgfVxyXG5cclxuICAgIF9oYW5kbGVyQ2xvc2VDbGljayA9IChldnQpID0+IHtcclxuICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB0aGlzLl9oYW5kbGVyU3VibWl0Rm9ybSh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgICAgIHRoaXMuX3BvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCB0aGlzLl9oYW5kbGVyQ2xvc2VDbGljayk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xvc2UoKSB7XHJcbiAgICAgICAgc3VwZXIuY2xvc2UoKTtcclxuICAgICAgICB0aGlzLl9wb3B1cEZvcm0ucmVzZXQoKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVUZXh0T25CdXR0b24odGV4dCkge1xyXG4gICAgICAgIHRoaXMuX2J1dHRvbi50ZXh0Q29udGVudCA9IHRleHQ7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fcG9wdXBJbWFnZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW1hZ2UnKTtcclxuICAgIHRoaXMuX3BvcHVwVGV4dCA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW1hZ2UtdGV4dCcpO1xyXG4gICAgfVxyXG5cclxuICAgIG9wZW4oe25hbWUsIGxpbmt9KSB7XHJcbiAgICAgICAgc3VwZXIub3BlbigpO1xyXG4gICAgICAgIHRoaXMuX3BvcHVwSW1hZ2Uuc3JjID0gbGluaztcclxuICAgICAgICB0aGlzLl9wb3B1cEltYWdlLmFsdCA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy5fcG9wdXBUZXh0LnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aFN1Ym1pdCBleHRlbmRzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKGhhbmRsZXJTdWJtaXRGb3JtLCBwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICAgICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlclN1Ym1pdEZvcm0gPSBoYW5kbGVyU3VibWl0Rm9ybTtcclxuICAgICAgICB0aGlzLl9mb3JtRWxlbWVudCA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY29udGFpbmVyJyk7XHJcbiAgICB9XHJcblxyXG4gICAgb3BlbihjYXJkKSB7XHJcbiAgICAgICAgc3VwZXIub3BlbigpO1xyXG4gICAgICAgIHRoaXMuY2FyZCA9IGNhcmQ7XHJcbiAgICB9O1xyXG5cclxuICAgIF9oYW5kbGVyU3VibWl0ID0gKGV2dCkgPT4ge1xyXG4gICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZXJTdWJtaXRGb3JtKHRoaXMuY2FyZCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICAgICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgdGhpcy5faGFuZGxlclN1Ym1pdCk7XHJcbiAgICB9O1xyXG59OyIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XHJcbiAgICBjb25zdHJ1Y3RvcihsaW5rLCB0b2tlbikge1xyXG4gICAgICAgIHRoaXMuX2xpbmsgPSBsaW5rO1xyXG4gICAgICAgIHRoaXMuX3Rva2VuID0gdG9rZW47XHJcbiAgICB9O1xyXG5cclxuICAgIGdldEluaXRpYWxDYXJkcygpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fbGlua30vY2FyZHNgLCB7XHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX3Rva2VuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbih0aGlzLl9jaGVja1N0YXR1cyk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2xpbmt9L3VzZXJzL21lYCwge1xyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl90b2tlblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4odGhpcy5fY2hlY2tTdGF0dXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZVVzZXJJbmZvKG5hbWUsIGFib3V0KSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2xpbmt9L3VzZXJzL21lYCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX3Rva2VuLFxyXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgICAgICAgICAgYWJvdXQ6IGFib3V0XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4odGhpcy5fY2hlY2tTdGF0dXMpO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZE5ld0NhcmQobmFtZSwgbGluaykge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9saW5rfS9jYXJkc2AsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX3Rva2VuLFxyXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgICAgICAgICAgbGluazogbGlua1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKHRoaXMuX2NoZWNrU3RhdHVzKTtcclxuICAgIH1cclxuXHJcbiAgICBfY2hlY2tTdGF0dXMocmVzKSB7XHJcbiAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LA6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgIH1cclxuXHJcbiAgICBhZGRMaWtlVXBkYXRlKGNhcmRJZCkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9saW5rfS9jYXJkcy9saWtlcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX3Rva2VuLFxyXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4odGhpcy5fY2hlY2tTdGF0dXMpO1xyXG4gICAgfVxyXG5cclxuICAgIGRlbGV0ZUxpa2VVcGRhdGUoY2FyZElkKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2xpbmt9L2NhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fdG9rZW4sXHJcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbih0aGlzLl9jaGVja1N0YXR1cyk7XHJcbiAgICB9XHJcblxyXG4gICAgZGVsZXRlQ2FyZChjYXJkSWQpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fbGlua30vY2FyZHMvJHtjYXJkSWR9YCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl90b2tlbixcclxuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKHRoaXMuX2NoZWNrU3RhdHVzKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVBdmF0YXIoYXZhdGFyKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2xpbmt9L3VzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl90b2tlbixcclxuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICAgICAgYXZhdGFyOiBhdmF0YXJcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbih0aGlzLl9jaGVja1N0YXR1cyk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY29uc3QgdmFsaWRhdGlvbk9iaiA9IHtcclxuICAgIGZvcm1TZWxlY3RvcjogJy5wb3B1cF9fY29udGFpbmVyJyxcclxuICAgIGlucHV0U2VsZWN0b3I6ICcucG9wdXBfX2lucHV0JyxcclxuICAgIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiAnLnBvcHVwX19zdWJtaXQnLFxyXG4gICAgaW5hY3RpdmVCdXR0b25DbGFzczogJ3BvcHVwX19zdWJtaXRfZGlzYWJsZWQnLFxyXG4gICAgaW5wdXRFcnJvckNsYXNzOiAncG9wdXBfX2lucHV0X3R5cGVfZXJyb3InLFxyXG4gICAgZXJyb3JDbGFzczogJ3BvcHVwX19pbnB1dC1lcnJvcicsXHJcbiAgICBlcnJvck1lc3NhZ2VDbGFzczogJ3BvcHVwX19pbnB1dC1lcnJvcl92aXNpYmxlJ1xyXG59O1xyXG5cclxuXHJcbi8vINCa0L3QvtC/0L7Rh9C60LhcclxuZXhwb3J0IGNvbnN0IGVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYnV0dG9uLWVkaXQnKTtcclxuZXhwb3J0IGNvbnN0IGFkZENhcmRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYWRkLWJ1dHRvbicpO1xyXG5leHBvcnQgY29uc3QgZWRpdEF2YXRhckJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19vdmVybGF5Jyk7XHJcbi8vINCf0YDQuNGB0LLQsNC40LLQsNC90LjQtSDQvNC+0LTQuNGE0LjQutCw0YLQvtGA0L7QsiDQv9C+0L/QsNC/0LDQvCDQtNC70Y8g0YDQsNC30LPRgNCw0L3QuNGH0LXQvdC40Y9cclxuZXhwb3J0IGNvbnN0IHBvcHVwVHlwZUVkaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfdHlwZV9lZGl0Jyk7XHJcbmV4cG9ydCBjb25zdCBwb3B1cFR5cGVBZGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfdHlwZV9hZGQnKTtcclxuZXhwb3J0IGNvbnN0IHBvcHVwVHlwZVVwZGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF90eXBlX3VwZGF0ZS1hdmF0YXInKTtcclxuLy8g0JrQvdC+0L/QutC4INGB0L7RhdGA0LDQvdC40YLRjFxyXG5leHBvcnQgY29uc3Qgc3VibWl0Rm9ybUVkaXQgPSBwb3B1cFR5cGVFZGl0LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY29udGFpbmVyJyk7XHJcbmV4cG9ydCBjb25zdCBzdWJtaXRGb3JtQWRkID0gcG9wdXBUeXBlQWRkLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY29udGFpbmVyJyk7XHJcbmV4cG9ydCBjb25zdCBzdWJtaXRGb3JtVXBkYXRlID0gcG9wdXBUeXBlVXBkYXRlLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fY29udGFpbmVyJyk7XHJcbi8vINCf0L7Qu9GPINC/0L7Qv9Cw0L/QsFxyXG5leHBvcnQgY29uc3QgaW5wdXROYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbnB1dF90eXBlX25hbWUnKTtcclxuZXhwb3J0IGNvbnN0IGRlc2NyaXB0aW9uSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2lucHV0X3R5cGVfZGVzY3JpcHRpb24nKTtcclxuLy8g0KHQtdC70LXQutGC0L7RgNGLINC00LvRjyDQutC70LDRgdGB0L7QslxyXG5leHBvcnQgY29uc3QgZWxlbWVudHNTZWxlY3RvciA9ICcuZWxlbWVudHMnO1xyXG5leHBvcnQgY29uc3QgdXNlck5hbWVTZWxlY3RvciA9ICcucHJvZmlsZV9fbmFtZSc7XHJcbmV4cG9ydCBjb25zdCB1c2VySW5mb1NlbGVjdG9yID0gJy5wcm9maWxlX19kZXNjcmlwdGlvbic7XHJcbmV4cG9ydCBjb25zdCB1c2VyQXZhdGFyU2VsZWN0b3IgPSAnLnByb2ZpbGVfX2F2YXRhcic7XHJcbmV4cG9ydCBjb25zdCBwb3B1cEVkaXRTZWxlY3RvciA9ICcucG9wdXBfdHlwZV9lZGl0JztcclxuZXhwb3J0IGNvbnN0IHBvcHVwQWRkU2VsZWN0b3IgPSAnLnBvcHVwX3R5cGVfYWRkJztcclxuZXhwb3J0IGNvbnN0IHBvcHVwSW1nU2VsZWN0b3IgPSAnLnBvcHVwX3R5cGVfaW1hZ2UnO1xyXG5leHBvcnQgY29uc3QgcG9wdXBEZWxldGVTdWJtaXRTZWxlY3RvciA9ICcucG9wdXBfdHlwZV9kZWxldGUnO1xyXG5leHBvcnQgY29uc3QgcG9wdXBVcGRhdGVBdmF0YXJTZWxlY3RvciA9ICcucG9wdXBfdHlwZV91cGRhdGUtYXZhdGFyJzsiLCJpbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XHJcbmltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aFN1Ym1pdCBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhTdWJtaXQuanNcIjtcclxuaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcclxuXHJcbmltcG9ydCAnLi9pbmRleC5jc3MnO1xyXG5cclxuaW1wb3J0IHtcclxuICAgIHZhbGlkYXRpb25PYmosXHJcbiAgICBlZGl0QnV0dG9uLFxyXG4gICAgYWRkQ2FyZEJ1dHRvbixcclxuICAgIHN1Ym1pdEZvcm1FZGl0LFxyXG4gICAgc3VibWl0Rm9ybUFkZCxcclxuICAgIHBvcHVwRWRpdFNlbGVjdG9yLFxyXG4gICAgcG9wdXBBZGRTZWxlY3RvcixcclxuICAgIHBvcHVwSW1nU2VsZWN0b3IsXHJcbiAgICBpbnB1dE5hbWUsXHJcbiAgICBkZXNjcmlwdGlvbklucHV0LFxyXG4gICAgZWxlbWVudHNTZWxlY3RvcixcclxuICAgIHVzZXJOYW1lU2VsZWN0b3IsXHJcbiAgICB1c2VySW5mb1NlbGVjdG9yLFxyXG4gICAgdXNlckF2YXRhclNlbGVjdG9yLFxyXG4gICAgcG9wdXBEZWxldGVTdWJtaXRTZWxlY3RvcixcclxuICAgIHBvcHVwVXBkYXRlQXZhdGFyU2VsZWN0b3IsXHJcbiAgICBlZGl0QXZhdGFyQnV0dG9uLFxyXG4gICAgc3VibWl0Rm9ybVVwZGF0ZVxyXG59IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcclxuXHJcbi8vINCi0YPRgiDQvdC1INCw0YHRgdC40L3RhdGA0L7QvdC90YvQtSBORVdcclxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe3VzZXJOYW1lU2VsZWN0b3IsIHVzZXJJbmZvU2VsZWN0b3IsIHVzZXJBdmF0YXJTZWxlY3Rvcn0pO1xyXG5cclxuY29uc3QgdmFsaWRhdGVGb3JtRWRpdCA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25PYmosIHN1Ym1pdEZvcm1FZGl0KTtcclxudmFsaWRhdGVGb3JtRWRpdC5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG5jb25zdCB2YWxpZGF0ZUZvcm1BZGQgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uT2JqLCBzdWJtaXRGb3JtQWRkKTtcclxudmFsaWRhdGVGb3JtQWRkLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbmNvbnN0IHZhbGlkYXRlRm9ybVVwZGF0ZUF2YXRhciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25PYmosIHN1Ym1pdEZvcm1VcGRhdGUpO1xyXG52YWxpZGF0ZUZvcm1VcGRhdGVBdmF0YXIuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuY29uc3QgcG9wdXBJbWcgPSBuZXcgUG9wdXBXaXRoSW1hZ2UocG9wdXBJbWdTZWxlY3Rvcik7XHJcbnBvcHVwSW1nLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCBhcGkgPSBuZXcgQXBpKCdodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTI2JywgJ2FiZjc0ODljLTAyOGItNDBhZi04YTU0LTg4ODk5ZGQ5NDFmMCcpO1xyXG5cclxuY29uc3QgcG9wdXBEZWxldGUgPSBuZXcgUG9wdXBXaXRoU3VibWl0KFxyXG4gICAgZnVuY3Rpb24gaGFuZGxlclN1Ym1pdEZvcm0oY2FyZCkge1xyXG4gICAgICAgIGFwaS5kZWxldGVDYXJkKGNhcmQuY2FyZElkKVxyXG4gICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UubWVzc2FnZSA9PT0gXCLQn9C+0YHRgiDRg9C00LDQu9GR0L1cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhcmQuZGVsZXRlTWVQbGVhc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICBwb3B1cERlbGV0ZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xyXG4gICAgfSxcclxuICAgIHBvcHVwRGVsZXRlU3VibWl0U2VsZWN0b3IpO1xyXG5wb3B1cERlbGV0ZS5zZXRFdmVudExpc3RlbmVycygpO1xyXG4vLyDQpNCj0J3QmtCm0JjQmCAvL1xyXG5mdW5jdGlvbiBoYW5kbGVDYXJkRGVsZXRlKGNhcmQpIHtcclxuICAgIHBvcHVwRGVsZXRlLm9wZW4oY2FyZCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUNhcmRMaWtlKGNhcmQpIHtcclxuICAgIGNvbnN0IGxpa2VUb2dnbGUgPSBjYXJkLmlzTGlrZWQoKSA/IGFwaS5kZWxldGVMaWtlVXBkYXRlKGNhcmQuY2FyZElkKSA6IGFwaS5hZGRMaWtlVXBkYXRlKGNhcmQuY2FyZElkKTtcclxuICAgIGxpa2VUb2dnbGUudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgY2FyZC5saWtlcyA9IHJlcy5saWtlcztcclxuICAgICAgICBjYXJkLmhhbmRsZVRvZ2dsZUxpa2UoKTtcclxuICAgICAgICBjYXJkLnVwZGF0ZUxpa2VzKHJlcy5saWtlcy5sZW5ndGgpO1xyXG4gICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUNhcmRDbGljayhuYW1lLCBsaW5rKSB7XHJcbiAgICBwb3B1cEltZy5vcGVuKHtuYW1lLCBsaW5rfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoZGF0YSwgdXNlcklkKSB7XHJcbiAgICBjb25zdCBuZXdDYXJkID0gbmV3IENhcmQoZGF0YSwgJy5lbGVtZW50LXRlbXBsYXRlJywgaGFuZGxlQ2FyZENsaWNrLCBoYW5kbGVDYXJkRGVsZXRlLCBoYW5kbGVDYXJkTGlrZSwgdXNlcklkKTtcclxuICAgIHJldHVybiBuZXdDYXJkLmNyZWF0ZUNhcmQoKTtcclxufVxyXG5cclxuLy8g0J/RgNC+0LzQuNGB0Ysg0LTQu9GPINC/0L7Qu9GD0YfQtdC90LjRjyDQuNC90YTQvtGA0LzQsNGG0LjQuCDRgSDRgdC10YDQstC10YDQsCDQuCDRgNC10L3QtNC10YDQsCDQtdGRXHJcblByb21pc2UuYWxsKFthcGkuZ2V0VXNlckluZm8oKSwgYXBpLmdldEluaXRpYWxDYXJkcygpXSlcclxuICAgIC50aGVuKChbdXNlckRhdGFTZXJ2ZXIsIGNhcmRzRGF0YVNlcnZlcl0pID0+IHtcclxuICAgICAgICB1c2VySW5mby5zZXRVc2VySW5mbyh1c2VyRGF0YVNlcnZlci5uYW1lLCB1c2VyRGF0YVNlcnZlci5hYm91dCwgdXNlckRhdGFTZXJ2ZXIuX2lkKTtcclxuICAgICAgICB1c2VySW5mby5zZXRVc2VyQXZhdGFyKHVzZXJEYXRhU2VydmVyLmF2YXRhcik7XHJcbiAgICAgICAgY29uc3QgY2xhc3NTZWN0aW9uID0gbmV3IFNlY3Rpb24oXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhcmQgPSBjcmVhdGVDYXJkKGl0ZW0sIHVzZXJEYXRhU2VydmVyLl9pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NTZWN0aW9uLnJldmVyc2VJdGVtKGNhcmQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBlbGVtZW50c1NlbGVjdG9yKTtcclxuICAgICAgICBjbGFzc1NlY3Rpb24ucmVuZGVySXRlbXMoY2FyZHNEYXRhU2VydmVyKTtcclxuXHJcbiAgICAgICAgY29uc3QgcG9wdXBFZGl0ID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAgICAgICAgICAgIHBvcHVwRWRpdFNlbGVjdG9yLFxyXG4gICAgICAgICAgICBmdW5jdGlvbiBoYW5kbGVyU3VibWl0Rm9ybShkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBwb3B1cEVkaXQudXBkYXRlVGV4dE9uQnV0dG9uKCfQodC+0YXRgNCw0L3QtdC90LjQtS4uLicpO1xyXG4gICAgICAgICAgICAgICAgYXBpLnVwZGF0ZVVzZXJJbmZvKGRhdGEuYXV0aG9yTmFtZSwgZGF0YS5hdXRob3JEZXNjcmlwdGlvbilcclxuICAgICAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcHVwRWRpdC51cGRhdGVUZXh0T25CdXR0b24oJ9Ch0L7RhdGA0LDQvdC40YLRjCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VySW5mby5zZXRVc2VySW5mbyhkYXRhLmF1dGhvck5hbWUsIGRhdGEuYXV0aG9yRGVzY3JpcHRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3B1cEVkaXQuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgZWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgdXNlckRhdGEgPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xyXG4gICAgICAgICAgICBpbnB1dE5hbWUudmFsdWUgPSB1c2VyRGF0YS5uYW1lO1xyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbklucHV0LnZhbHVlID0gdXNlckRhdGEuaW5mbztcclxuICAgICAgICAgICAgcG9wdXBFZGl0Lm9wZW4oKTtcclxuICAgICAgICAgICAgdmFsaWRhdGVGb3JtRWRpdC5jaGVja0Zvcm1TdGF0ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHBvcHVwRWRpdC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuICAgICAgICBjb25zdCBwb3B1cFVwZGF0ZUF2YXRhciA9IG5ldyBQb3B1cFdpdGhGb3JtKHBvcHVwVXBkYXRlQXZhdGFyU2VsZWN0b3IsXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGhhbmRsZXJTdWJtaXRGb3JtKGlucHV0c0xpc3QpIHtcclxuICAgICAgICAgICAgICAgIHBvcHVwVXBkYXRlQXZhdGFyLnVwZGF0ZVRleHRPbkJ1dHRvbign0KHQvtGF0YDQsNC90LXQvdC40LUuLi4nKTtcclxuICAgICAgICAgICAgICAgIGFwaS51cGRhdGVBdmF0YXIoaW5wdXRzTGlzdC5hdmF0YXIpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKGlucHV0c0xpc3QpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9wdXBVcGRhdGVBdmF0YXIudXBkYXRlVGV4dE9uQnV0dG9uKCfQodC+0YXRgNCw0L3QuNGC0YwnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlckluZm8uc2V0VXNlckF2YXRhcihpbnB1dHNMaXN0LmF2YXRhcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcHVwVXBkYXRlQXZhdGFyLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIHBvcHVwVXBkYXRlQXZhdGFyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICAgICAgZWRpdEF2YXRhckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgcG9wdXBVcGRhdGVBdmF0YXIub3BlbigpO1xyXG4gICAgICAgICAgICB2YWxpZGF0ZUZvcm1VcGRhdGVBdmF0YXIuY2hlY2tGb3JtU3RhdGUoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgcG9wdXBBZGQgPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICAgICAgICAgICAgcG9wdXBBZGRTZWxlY3RvcixcclxuICAgICAgICAgICAgZnVuY3Rpb24gaGFuZGxlclN1Ym1pdEZvcm0oQ2FyZERhdGEpIHtcclxuICAgICAgICAgICAgICAgIHBvcHVwQWRkLnVwZGF0ZVRleHRPbkJ1dHRvbign0KHQvtC30LTQsNC90LjQtS4uLicpO1xyXG4gICAgICAgICAgICAgICAgYXBpLmFkZE5ld0NhcmQoQ2FyZERhdGEubmFtZSwgQ2FyZERhdGEubGluaylcclxuICAgICAgICAgICAgICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3B1cEFkZC51cGRhdGVUZXh0T25CdXR0b24oJ9Ch0L7Qt9C00LDRgtGMJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJJZCA9IHVzZXJEYXRhU2VydmVyLl9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3Q2FyZCA9IGNyZWF0ZUNhcmQoZGF0YSwgdXNlcklkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NTZWN0aW9uLmFkZEl0ZW0obmV3Q2FyZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcHVwQWRkLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcG9wdXBBZGQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgICAgICBhZGRDYXJkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBwb3B1cEFkZC5vcGVuKCk7XHJcbiAgICAgICAgICAgIHZhbGlkYXRlRm9ybUFkZC5jaGVja0Zvcm1TdGF0ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTsiXSwic291cmNlUm9vdCI6IiJ9